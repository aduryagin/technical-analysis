query candles($figi: String!, $interval: Interval!, $to: String) {
  candles(figi: $figi, interval: $interval, to: $to) {
    time
    close
    open
    high
    low
    volume
    timestamp
  }
}

query searchInstrument($ticker: String!) {
  searchInstrument(ticker:$ticker) {
    ticker
    id
    figi
  }
}

subscription watchList {
  watchList {
    ticker
    id
    figi
    price
    pricePercentChange
  }
}

mutation watch ($input: WatchInput!) {
  watch(input: $input) {
    id
  }
}

mutation unwatch($id: Float!) {
  unwatch(id: $id)
}

subscription candle($figi: String!, $interval: Interval!) {
  candle(figi: $figi, interval: $interval) {
    candle {
      time
      close
      open
      high
      low
      volume
      timestamp
    }
    instrument {
      id
      ticker
      figi
    }
  }
}
query tradingViewIdeas($ticker: String!) {
  tradingViewIdeas(ticker: $ticker) {
    title
    link
    timeframe
    type
    date
    likes
    comments
    pureDate
  }
}

query tipRanksInfo($ticker:String!) {
  tipRanksInfo(ticker:$ticker) {
    priceTarget
    priceTargetHigh
    priceTargetLow
    ratingBuy
    ratingHold
    ratingSell
    stockScore
    newsSentimentBullishPercent
    newsSentimentBearishPercent
    lastWeekBuyNews
    lastWeekSellNews
    lastWeekNeutralNews
  }
}


query indicators {
  indicators {
    name
    id
    settings
  }
}

mutation addIndicator ($input: AddIndicatorInput!) {
  addIndicator(input: $input) {
    id
  }
}

mutation removeIndicator($id: Float!) {
  removeIndicator(id: $id)
}

mutation updateIndicator($input: UpdateIndicatorInput!) {
  updateIndicator(input: $input) {
    id
  }
}

query shapes($ticker: String!) {
  shapes(ticker: $ticker) {
    id
    name
    ticker
    points {
      dataIndex
      timestamp
      value
    }
  }
}

mutation removeShape($id: Float!) {
  removeShape(id: $id)
}

mutation updateShape($input: UpdateShapeInput!) {
  updateShape(
    input: $input
  ) {
    id
  }
}

mutation addShape($input: AddShapeInput!) {
  addShape(
    input: $input
  ) {
    id
    ticker
    points {
      dataIndex
      timestamp
      value
    }
  }
}

subscription trades {
  trades {
    id
    price
    type
    closed
    pricePercentChange
    date
    instrument {
      id
      ticker
      figi
    }
  }
}

mutation closeTrade($id: Float!) {
  closeTrade(id: $id)
}